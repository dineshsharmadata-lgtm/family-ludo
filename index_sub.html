<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Ludo - Multiplayer Board Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Admin Login Screen -->
    <div id="adminLogin" class="screen active">
        <div class="login-container">
            <h1>ğŸ² Family Ludo</h1>
            <p>Enter admin password to host a game</p>
            <input type="password" id="adminPasswordInput" placeholder="Enter password">
            <button onclick="checkAdminPassword()">Start as Admin</button>
            <p class="hint">Or open a shared game link to join as player</p>
        </div>
    </div>

    <!-- Player Setup Section (Admin Only) -->
    <div id="playerSetupSection" class="screen">
        <div class="setup-container">
            <h2>ğŸ® Game Setup</h2>
            <div id="gameCodeDisplay" class="game-code-box">
                <p>Game Code: <strong id="gameCodeText">Connecting...</strong></p>
                <button onclick="copyShareLink()">ğŸ“‹ Copy Link</button>
                <button onclick="shareOnWhatsApp()">ğŸ“± Share on WhatsApp</button>
            </div>

            <div id="playerSetupList" class="player-setup-list">
                <!-- Player slots will be rendered here -->
            </div>

            <div class="setup-actions">
                <button onclick="addPlayerSetup()" id="addPlayerBtn">â• Add Player</button>
                <button onclick="startGameAsAdmin()" id="startGameBtn" class="start-btn">ğŸš€ Start Game</button>
            </div>
        </div>
    </div>

    <!-- Player Selection Screen (For Joining Players) -->
    <div id="playerSelect" class="screen">
        <div class="player-select-container">
            <h2>ğŸ‘¥ Select Your Player</h2>
            <p>Choose an available player slot to join the game</p>
            <div id="playerSlots" class="player-slots">
                <!-- Player selection cards will be rendered here -->
            </div>
        </div>
    </div>

    <!-- Main Game Screen -->
    <div id="gameScreen" class="screen">
        <!-- Game Board -->
        <div id="gameBoard" class="game-board">
            <!-- Home Areas -->
            <div class="home-area red-home">
                <div class="home-tokens" id="redHome">
                    <div class="home-token"></div>
                    <div class="home-token"></div>
                    <div class="home-token"></div>
                    <div class="home-token"></div>
                </div>
            </div>

            <div class="home-area green-home">
                <div class="home-tokens" id="greenHome">
                    <div class="home-token"></div>
                    <div class="home-token"></div>
                    <div class="home-token"></div>
                    <div class="home-token"></div>
                </div>
            </div>

            <div class="home-area yellow-home">
                <div class="home-tokens" id="yellowHome">
                    <div class="home-token"></div>
                    <div class="home-token"></div>
                    <div class="home-token"></div>
                    <div class="home-token"></div>
                </div>
            </div>

            <div class="home-area blue-home">
                <div class="home-tokens" id="blueHome">
                    <div class="home-token"></div>
                    <div class="home-token"></div>
                    <div class="home-token"></div>
                    <div class="home-token"></div>
                </div>
            </div>

            <!-- Center Area -->
            <div class="center-area">
                <div class="center-triangle red-triangle"></div>
                <div class="center-triangle green-triangle"></div>
                <div class="center-triangle yellow-triangle"></div>
                <div class="center-triangle blue-triangle"></div>
            </div>

            <!-- Path cells will be dynamically created by createPathCells() -->
        </div>

        <!-- Game Controls -->
        <div class="game-controls">
            <div class="turn-info">
                <h3>Current Turn</h3>
                <div id="currentTurnDisplay" class="current-turn">
                    <span id="currentPlayerName">Waiting...</span>
                </div>
            </div>

            <div class="dice-section">
                <div id="diceDisplay" class="dice-display">ğŸ²</div>
                <button id="rollDiceBtn" onclick="rollDice()" disabled>Roll Dice</button>
            </div>

            <div class="players-info">
                <h3>Players</h3>
                <div id="playersInfoList">
                    <!-- Player info cards will be rendered here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Winner Screen -->
    <div id="winnerScreen" class="screen">
        <div class="winner-container">
            <h1>ğŸ† Winner!</h1>
            <div id="winnerAvatar" class="winner-avatar"></div>
            <h2 id="winnerName">Player Name</h2>
            <p id="winnerColor">Color</p>
            <button onclick="location.reload()">ğŸ”„ New Game</button>
        </div>
    </div>

    <!-- Load PeerJS Library -->
    <script src="https://unpkg.com/peerjs@1.4.7/dist/peerjs.min.js"></script>

    <!-- Load Game Scripts in Dependency Order -->
    <script src="js/config.js"></script>
    <script src="js/state.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/rendering.js"></script>
    <script src="js/gameLogic.js"></script>
    <script src="js/network.js"></script>
    <script src="js/messageHandler.js"></script>
    <script src="js/admin.js"></script>
    <script src="js/player.js"></script>
    <script src="js/game.js"></script>
    <script src="js/main.js"></script>
</body>
</html>